<UserControl x:Class="rntlOS.BackOffice.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Titre -->
            <TextBlock Text="Tableau de Bord" 
                       Foreground="White"
                       FontSize="24" 
                       FontWeight="Bold"
                       Margin="0,0,0,30"/>

            <!-- Cartes statistiques -->
            <Grid Grid.Row="1" Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Total Véhicules -->
                <Border Grid.Column="0" 
                        Background="#007ACC" 
                        CornerRadius="8"
                        Padding="20"
                        Margin="0,0,10,0">
                    <StackPanel>
                        <TextBlock Text="Total Véhicules" 
                                   Foreground="White" 
                                   FontSize="14"
                                   Opacity="0.9"/>
                        <TextBlock x:Name="TxtTotalVehicules" 
                                   Text="0" 
                                   Foreground="White" 
                                   FontSize="32"
                                   FontWeight="Bold"
                                   Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Véhicules Disponibles -->
                <Border Grid.Column="1" 
                        Background="#28A745" 
                        CornerRadius="8"
                        Padding="20"
                        Margin="0,0,10,0">
                    <StackPanel>
                        <TextBlock Text="Disponibles" 
                                   Foreground="White" 
                                   FontSize="14"
                                   Opacity="0.9"/>
                        <TextBlock x:Name="TxtVehiculesDisponibles" 
                                   Text="0" 
                                   Foreground="White" 
                                   FontSize="32"
                                   FontWeight="Bold"
                                   Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Total Clients -->
                <Border Grid.Column="2" 
                        Background="#FFC107" 
                        CornerRadius="8"
                        Padding="20"
                        Margin="0,0,10,0">
                    <StackPanel>
                        <TextBlock Text="Total Clients" 
                                   Foreground="White" 
                                   FontSize="14"
                                   Opacity="0.9"/>
                        <TextBlock x:Name="TxtTotalClients" 
                                   Text="0" 
                                   Foreground="White" 
                                   FontSize="32"
                                   FontWeight="Bold"
                                   Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Réservations Actives -->
                <Border Grid.Column="3" 
                        Background="#DC3545" 
                        CornerRadius="8"
                        Padding="20">
                    <StackPanel>
                        <TextBlock Text="Réservations Actives" 
                                   Foreground="White" 
                                   FontSize="14"
                                   Opacity="0.9"/>
                        <TextBlock x:Name="TxtReservationsActives" 
                                   Text="0" 
                                   Foreground="White" 
                                   FontSize="32"
                                   FontWeight="Bold"
                                   Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

            </Grid>

            <!-- Listes rapides -->
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Derniers véhicules ajoutés -->
                <Border Grid.Column="0" 
                        BorderBrush="#CCCCCC" 
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,10,0">
                    <StackPanel>
                        <TextBlock Text="Derniers véhicules ajoutés" 
                                   Foreground="White"
                                   FontSize="16" 
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,15"/>
                        <DataGrid x:Name="DgDerniersVehicules"
                                  AutoGenerateColumns="False"
                                  IsReadOnly="True"
                                  HeadersVisibility="Column"
                                  GridLinesVisibility="None"
                                  CanUserAddRows="False"
                                  Height="200">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Marque" Binding="{Binding Marque}" Width="*"/>
                                <DataGridTextColumn Header="Modèle" Binding="{Binding Modele}" Width="*"/>
                                <DataGridTextColumn Header="Matricule" Binding="{Binding Matricule}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>
                </Border>

                <!-- Dernières réservations -->
                <Border Grid.Column="1" 
                        BorderBrush="#CCCCCC" 
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15">
                    <StackPanel>
                        <TextBlock Text="Dernières réservations"
                                   Foreground="White"
                                   FontSize="16" 
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,15"/>
                        <DataGrid x:Name="DgDernieresReservations"
                                  AutoGenerateColumns="False"
                                  IsReadOnly="True"
                                  HeadersVisibility="Column"
                                  GridLinesVisibility="None"
                                  CanUserAddRows="False"
                                  Height="200">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Client" Binding="{Binding Client.Nom}" Width="*"/>
                                <DataGridTextColumn Header="Véhicule" Binding="{Binding Vehicule.Marque}" Width="*"/>
                                <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>
                </Border>

            </Grid>

        </Grid>
    </ScrollViewer>
</UserControl>